import inductiva

machine_group = inductiva.resources.MachineGroup(
    machine_type="c3d-standard-60", spot=True) # type of machines
machine_group.start()


# Initialize the Simulator
swash = inductiva.simulators.SWASH(version="9.01A") # Or you can use "10.01"

# Run simulation with config files in the input directory
input_dir='Simulation'
task = swash.run(input_dir=input_dir, # directory
                 sim_config_filename="input.sws", # executive file
                 on=machine_group, n_vcpus=30) # If you use less or half of the cores it makes the simulation much faster

task.wait()
task.download_outputs(output_dir='Simulation_outputs')
# Terminate your dedicated MachineGroup at then end of the simulation.
machine_group.terminate()
